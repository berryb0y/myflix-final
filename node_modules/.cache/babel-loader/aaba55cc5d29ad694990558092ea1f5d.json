{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Andrew\\\\OneDrive\\\\Documents\\\\GitHub\\\\myflix-final\\\\src\\\\components\\\\profile-view\\\\profile-view.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport axios from 'axios';\nimport { Button, Col, Container, Row } from 'react-bootstrap';\nimport { FavoriteMoviesView } from './favorite-movie-view.jsx';\nimport { UpdateView } from './update-view';\nimport './profile-view.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function ProfileView(props) {\n  _s();\n\n  const [user, setUser] = useState(props.user);\n  const [movies, setMovies] = useState(props.movies);\n  const [favoriteMovies, setFavoriteMovies] = useState([]);\n  const currentUser = localStorage.getItem('user');\n  const token = localStorage.getItem('token');\n\n  const getUser = () => {\n    axios.get(`https://berry-node-api.herokuapp.com/users/${currentUser}`, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(response => {\n      setUser(response.data);\n      setFavoriteMovies(response.data.FavoriteMovies);\n    }).catch(error => console.error(error));\n  };\n\n  useEffect(() => {\n    getUser();\n  }, []);\n\n  const handleDelete = () => {\n    axios.delete(`https://berry-node-api.herokuapp.com/users/${currentUser}`, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(() => {\n      alert(`The account ${user.Username} was successfully deleted.`);\n      localStorage.clear();\n      window.open('/register', '_self');\n    }).catch(error => console.error(error));\n  };\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    id: \"profile-form\",\n    children: [/*#__PURE__*/_jsxDEV(Row, {\n      children: /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Your profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 12\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        className: \"label\",\n        children: \"Username:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        className: \"value\",\n        children: user.Username\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      className: \"mt-3\",\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        className: \"label\",\n        children: \"Password:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        className: \"value\",\n        children: \"******\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      className: \"mt-3\",\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        className: \"label\",\n        children: \"Email:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        className: \"value\",\n        children: user.Email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      className: \"mt-3\",\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        className: \"label\",\n        children: \"Birthday:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        className: \"value\",\n        children: user.Birthday\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      className: \"mt-5\",\n      children: /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Your favorite movies\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 31\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      className: \"mt-3\",\n      children: /*#__PURE__*/_jsxDEV(FavoriteMoviesView, {\n        movies: movies,\n        favoriteMovies: favoriteMovies,\n        currentUser: currentUser,\n        token: token\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(UpdateView, {\n      user: user\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      className: \"d-block mt-5\",\n      variant: \"warning\",\n      onClick: handleDelete,\n      children: \"Delete profile\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ProfileView, \"SErO/i5fzIPph3MHH+bVoL7AX90=\");\n\n_c = ProfileView;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProfileView\");","map":{"version":3,"names":["React","useState","useEffect","PropTypes","axios","Button","Col","Container","Row","FavoriteMoviesView","UpdateView","ProfileView","props","user","setUser","movies","setMovies","favoriteMovies","setFavoriteMovies","currentUser","localStorage","getItem","token","getUser","get","headers","Authorization","then","response","data","FavoriteMovies","catch","error","console","handleDelete","delete","alert","Username","clear","window","open","Email","Birthday"],"sources":["C:/Users/Andrew/OneDrive/Documents/GitHub/myflix-final/src/components/profile-view/profile-view.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport axios from 'axios';\r\n\r\nimport { Button, Col, Container, Row } from 'react-bootstrap';\r\n\r\nimport { FavoriteMoviesView } from './favorite-movie-view.jsx';\r\nimport { UpdateView } from './update-view';\r\n\r\nimport './profile-view.scss';\r\n\r\nexport function ProfileView(props) {\r\n  const [ user, setUser ] = useState(props.user);\r\n  const [ movies, setMovies ] = useState(props.movies);\r\n  const [ favoriteMovies, setFavoriteMovies ] = useState([]);\r\n  const currentUser = localStorage.getItem('user');\r\n  const token = localStorage.getItem('token');\r\n\r\n  const getUser = () => {\r\n    axios.get(`https://berry-node-api.herokuapp.com/users/${currentUser}`, {\r\n      headers: { Authorization: `Bearer ${token}`}\r\n    })\r\n    .then(response => {\r\n      setUser(response.data);\r\n      setFavoriteMovies(response.data.FavoriteMovies)\r\n    })\r\n    .catch(error => console.error(error))\r\n  }\r\n\r\n  useEffect(() => {\r\n    getUser();\r\n  }, [])\r\n\r\n  const handleDelete = () => {\r\n    axios.delete(`https://berry-node-api.herokuapp.com/users/${currentUser}`, {\r\n      headers: { Authorization: `Bearer ${token}`}\r\n    })\r\n    .then(() => {\r\n      alert(`The account ${user.Username} was successfully deleted.`)\r\n      localStorage.clear();\r\n      window.open('/register', '_self');\r\n    }).\r\n    catch(error => console.error(error))\r\n  }\r\n\r\n  return (\r\n    <Container id=\"profile-form\">\r\n      <Row><h4>Your profile</h4></Row>\r\n      <Row>\r\n        <Col className=\"label\">Username:</Col>\r\n        <Col className=\"value\">{user.Username}</Col>\r\n        </Row>\r\n        <Row className=\"mt-3\">\r\n        <Col className=\"label\">Password:</Col>\r\n        <Col className=\"value\">******</Col>\r\n        </Row>\r\n        <Row className=\"mt-3\">\r\n        <Col className=\"label\">Email:</Col>\r\n        <Col className=\"value\">{user.Email}</Col>\r\n        </Row>\r\n        <Row className=\"mt-3\">\r\n        <Col className=\"label\">Birthday:</Col>\r\n        <Col className=\"value\">{user.Birthday}</Col>\r\n        </Row>\r\n        <Row className=\"mt-5\"><h4>Your favorite movies</h4></Row>\r\n        <Row className=\"mt-3\">\r\n          <FavoriteMoviesView \r\n          movies={movies} \r\n          favoriteMovies={favoriteMovies} \r\n          currentUser={currentUser} \r\n          token={token}/>\r\n        </Row>\r\n        <UpdateView user={user}/>\r\n        <Button className=\"d-block mt-5\" variant=\"warning\" onClick={handleDelete}>Delete profile</Button>\r\n    </Container>\r\n  )\r\n}"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,SAASC,MAAT,EAAiBC,GAAjB,EAAsBC,SAAtB,EAAiCC,GAAjC,QAA4C,iBAA5C;AAEA,SAASC,kBAAT,QAAmC,2BAAnC;AACA,SAASC,UAAT,QAA2B,eAA3B;AAEA,OAAO,qBAAP;;AAEA,OAAO,SAASC,WAAT,CAAqBC,KAArB,EAA4B;EAAA;;EACjC,MAAM,CAAEC,IAAF,EAAQC,OAAR,IAAoBb,QAAQ,CAACW,KAAK,CAACC,IAAP,CAAlC;EACA,MAAM,CAAEE,MAAF,EAAUC,SAAV,IAAwBf,QAAQ,CAACW,KAAK,CAACG,MAAP,CAAtC;EACA,MAAM,CAAEE,cAAF,EAAkBC,iBAAlB,IAAwCjB,QAAQ,CAAC,EAAD,CAAtD;EACA,MAAMkB,WAAW,GAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAApB;EACA,MAAMC,KAAK,GAAGF,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;;EAEA,MAAME,OAAO,GAAG,MAAM;IACpBnB,KAAK,CAACoB,GAAN,CAAW,8CAA6CL,WAAY,EAApE,EAAuE;MACrEM,OAAO,EAAE;QAAEC,aAAa,EAAG,UAASJ,KAAM;MAAjC;IAD4D,CAAvE,EAGCK,IAHD,CAGMC,QAAQ,IAAI;MAChBd,OAAO,CAACc,QAAQ,CAACC,IAAV,CAAP;MACAX,iBAAiB,CAACU,QAAQ,CAACC,IAAT,CAAcC,cAAf,CAAjB;IACD,CAND,EAOCC,KAPD,CAOOC,KAAK,IAAIC,OAAO,CAACD,KAAR,CAAcA,KAAd,CAPhB;EAQD,CATD;;EAWA9B,SAAS,CAAC,MAAM;IACdqB,OAAO;EACR,CAFQ,EAEN,EAFM,CAAT;;EAIA,MAAMW,YAAY,GAAG,MAAM;IACzB9B,KAAK,CAAC+B,MAAN,CAAc,8CAA6ChB,WAAY,EAAvE,EAA0E;MACxEM,OAAO,EAAE;QAAEC,aAAa,EAAG,UAASJ,KAAM;MAAjC;IAD+D,CAA1E,EAGCK,IAHD,CAGM,MAAM;MACVS,KAAK,CAAE,eAAcvB,IAAI,CAACwB,QAAS,4BAA9B,CAAL;MACAjB,YAAY,CAACkB,KAAb;MACAC,MAAM,CAACC,IAAP,CAAY,WAAZ,EAAyB,OAAzB;IACD,CAPD,EAQAT,KARA,CAQMC,KAAK,IAAIC,OAAO,CAACD,KAAR,CAAcA,KAAd,CARf;EASD,CAVD;;EAYA,oBACE,QAAC,SAAD;IAAW,EAAE,EAAC,cAAd;IAAA,wBACE,QAAC,GAAD;MAAA,uBAAK;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAL;MAAA;MAAA;MAAA;IAAA,QADF,eAEE,QAAC,GAAD;MAAA,wBACE,QAAC,GAAD;QAAK,SAAS,EAAC,OAAf;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADF,eAEE,QAAC,GAAD;QAAK,SAAS,EAAC,OAAf;QAAA,UAAwBnB,IAAI,CAACwB;MAA7B;QAAA;QAAA;QAAA;MAAA,QAFF;IAAA;MAAA;MAAA;MAAA;IAAA,QAFF,eAMI,QAAC,GAAD;MAAK,SAAS,EAAC,MAAf;MAAA,wBACA,QAAC,GAAD;QAAK,SAAS,EAAC,OAAf;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADA,eAEA,QAAC,GAAD;QAAK,SAAS,EAAC,OAAf;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAFA;IAAA;MAAA;MAAA;MAAA;IAAA,QANJ,eAUI,QAAC,GAAD;MAAK,SAAS,EAAC,MAAf;MAAA,wBACA,QAAC,GAAD;QAAK,SAAS,EAAC,OAAf;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADA,eAEA,QAAC,GAAD;QAAK,SAAS,EAAC,OAAf;QAAA,UAAwBxB,IAAI,CAAC4B;MAA7B;QAAA;QAAA;QAAA;MAAA,QAFA;IAAA;MAAA;MAAA;MAAA;IAAA,QAVJ,eAcI,QAAC,GAAD;MAAK,SAAS,EAAC,MAAf;MAAA,wBACA,QAAC,GAAD;QAAK,SAAS,EAAC,OAAf;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADA,eAEA,QAAC,GAAD;QAAK,SAAS,EAAC,OAAf;QAAA,UAAwB5B,IAAI,CAAC6B;MAA7B;QAAA;QAAA;QAAA;MAAA,QAFA;IAAA;MAAA;MAAA;MAAA;IAAA,QAdJ,eAkBI,QAAC,GAAD;MAAK,SAAS,EAAC,MAAf;MAAA,uBAAsB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAtB;MAAA;MAAA;MAAA;IAAA,QAlBJ,eAmBI,QAAC,GAAD;MAAK,SAAS,EAAC,MAAf;MAAA,uBACE,QAAC,kBAAD;QACA,MAAM,EAAE3B,MADR;QAEA,cAAc,EAAEE,cAFhB;QAGA,WAAW,EAAEE,WAHb;QAIA,KAAK,EAAEG;MAJP;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QAnBJ,eA0BI,QAAC,UAAD;MAAY,IAAI,EAAET;IAAlB;MAAA;MAAA;MAAA;IAAA,QA1BJ,eA2BI,QAAC,MAAD;MAAQ,SAAS,EAAC,cAAlB;MAAiC,OAAO,EAAC,SAAzC;MAAmD,OAAO,EAAEqB,YAA5D;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QA3BJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AA+BD;;GAjEevB,W;;KAAAA,W"},"metadata":{},"sourceType":"module"}